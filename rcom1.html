<html>
  <body>
    <script>
      var prices = [32.3,32.25,32.3,32.25,32.2,32.3,32.25,32.2,32.25,32.2,32.25,32.2,32.15,32.2,32.25,32.2,32.25,32.2,32.25,32.2,32.25,32.2,32.25,32.2,32.25,32.2,32.25,32.2,32.25,32.2,32.25,32.3,32.25,32.3,32.25,32.3,32.25,32.35,32.3,32.35,32.3,32.35,32.4,32.35,32.4,32.35,32.3,32.35,32.3,32.35,32.4,32.35,32.4,32.35,32.4,32.3,32.35,32.3,32.35,32.4,32.35,32.4,32.35,32.4,32.35,32.4,32.35,32.4,32.35,32.3,32.35,32.3,32.35,32.4,32.35,32.4,32.45,32.4,32.45,32.4,32.45,32.5,32.45,32.5,32.45,32.5,32.45,32.5,32.55,32.5,32.6,32.55,32.5,32.55,32.6,32.5,32.55,32.5,32.55,32.6,32.7,32.65,32.7,32.65,32.6,32.65,32.7,32.65,32.6,32.65,32.7,32.65,32.6,32.55,32.6,32.55,32.6,32.55,32.6,32.55,32.6,32.55,32.6,32.65,32.7,32.75,32.8,32.75,32.65,32.7,32.65,32.7,32.75,32.7,32.75,32.7,32.75,32.8,32.75,32.85,32.8,32.85,32.8,32.85,32.8,32.85,32.8,32.85,32.9,32.85,32.9,32.85,32.9,32.85,32.8,32.85,32.8,32.7,32.75,32.8,32.85,32.8,32.85,32.8,32.75,32.7,32.75,32.7,32.65,32.7,32.65,32.6,32.7,32.65,32.6,32.65,32.6,32.65,32.6,32.65,32.7,32.65,32.6,32.7,32.65,32.7,32.65,32.7,32.65,32.7,32.75,32.7,32.75,32.7,32.65,32.7,32.65,32.7,32.65,32.75,32.7,32.75,32.7,32.75,32.8,32.85,32.8,32.75,32.8,32.75,32.8,32.75,32.8,32.75,32.8,32.75,32.7,32.75,32.7,32.65,32.7,32.65,32.75,32.7,32.65,32.7,32.65,32.7,32.65,32.7,32.65,32.7,32.65,32.7,32.65,32.7,32.8,32.85,32.9,32.95,33,33.1,33.15,33.2,33.25,33.2,33.3,33.35,33.25,33.3,33.25,33.3,33.25,33.2,33.25,33.3,33.2,33.25,33.3,33.2,33.25,33.3,33.35,33.3,33.4,33.35,33.3,33.2,33.3,33.25,33.3,33.25,33.2,33.15,33.1,33.15,33.1,33.15,33.1,33.15,33.2,33.15,33.1,33.15,33.2,33.25,33.2,33.25,33.2,33.25,33.15,33.2,33.25,33.15,33.2,33.15,33.2,33.15,33.1,33.05,33.1,33.05,33.15,33.1,33.15,33.2,33.25,33.3,33.25,33.3,33.2,33.3,33.25,33.2,33.25,33.2,33.15,33.2,33.15,33.2,33.15,33.25,33.2,33.25,33.3,33.25,33.3,33.25,33.35,33.3,33.4,33.35,33.4,33.45,33.5,33.55,33.5,33.6,33.85,33.8,33.75,33.8,33.75,33.7,33.75,33.7,33.85,33.8,33.75,33.7,33.65,33.6,33.65,33.5,33.4,33.5,33.45,33.4,33.35,33.4,33.45,33.5,33.45,33.5,33.45,33.55,33.6,33.5,33.55,33.45,33.5,33.55,33.45,33.5,33.45,33.4,33.45,33.4,33.45,33.5,33.45,33.4,33.45,33.4,33.35,33.4,33.35,33.3,33.35,33.3,33.35,33.3,33.2,33.3,33.25,33.2,33.3,33.25,33.2,33.25,33.3,33.25,33.3,33.35,33.3,33.35,33.3,33.35,33.3,33.35,33.4,33.35,33.4,33.35,33.3,33.25,33.3,33.25,33.3,33.25,33.3,33.25,33.3,33.35,33.3,33.25,33.35,33.3,33.25,33.2,33.25,33.3,33.25,33.3,33.25,33.2,33.25,33.2,33.25,33.2,33.25,33.3,33.25,33.35,33.3,33.35,33.3,33.4,33.45,33.4,33.35,33.4,33.35,33.4,33.35,33.4,33.35,33.4,33.45,33.4,33.35,33.3,33.35,33.3,33.35,33.3,33.35,33.3,33.25,33.3,33.2,33.25,33.2,33.25,33.2,33.25,33.15,33.2,33.15,33.2,33.15,33.2,33.25,33.2,33.25,33.2,33.25,33.2,33.25,33.2,33.15,33.1,33.05,33,32.95,33,32.95,33,32.95,33,32.95,33,32.9,32.95,32.9,32.85,32.9,32.85,32.9,32.95,33,33.05,33,33.05,33,33.1,33.05,33.1,33.05,33.1,33.05,33.1,33.15,33.1,33.15,33.1,33.15,33.2,33.15,33.25,33.2,33.25,33.2,33.3,33.35,33.4,33.35,33.3,33.4,33.35,33.45,33.4,33.45,33.4,33.45,33.4,33.45,33.4,33.35,33.4,33.35,33.4,33.3,33.35,33.4,33.45,33.4,33.45,33.5,33.45,33.5,33.55,33.5,33.4,33.45,33.4,33.45,33.4,33.45,33.4,33.45,33.5,33.45,33.55,33.5,33.55,33.6,33.55,33.6,33.55,33.6,33.55,33.6,33.65,33.6,33.7,33.75,33.7,33.75,33.8,33.85,33.9,33.95,34,33.95,34,33.9,33.95,33.9,33.85,33.9,33.85,33.9,34,33.8,33.85,33.9,33.85,33.9,33.85,33.9,33.85,33.8,33.75,33.8,33.75,33.8,33.85,33.9,33.85,33.9,33.85,33.9,33.85,33.9,33.85,33.9,33.85,33.9,33.85,33.9,33.95,34,33.95,34,34.05,34,34.05,34,33.95,33.9,33.85,33.9,33.95,33.9,33.85,33.9,33.85,33.9,33.85,33.9,33.95,33.9,34,33.95,33.9,33.85,33.9,33.85,33.9,33.85,33.9,33.95,33.9,33.85,33.9,33.85,33.9,33.95,34,34.05,34,33.95,33.9,33.95,33.9,33.95,33.9,33.95,33.9,33.85,33.8,33.85,33.8,33.75,33.85,33.8,33.85,33.8,33.85,33.8,33.85,33.8,33.85,33.8,33.85,33.8,33.85,33.9,33.85,33.8,33.85,33.9,33.85,33.95,33.9,33.95,33.9,33.95,33.9,33.95,33.9,33.95,33.9,33.95,33.9,33.95,33.9,33.95,33.9,33.95,33.9,33.95,34,33.95,34,33.95,34,34.05,34,33.95,34,33.95,34,33.95,34,33.95,34,33.95,33.9,33.95,33.9,33.95,33.9,33.95,33.9,33.95,34,33.95,34,33.95,34,33.95,33.9,33.95,33.9,33.95,33.9,33.95,34,33.95,34,33.95,34,33.95,34,33.95,34,33.95,34,33.95,34,33.9,33.95,33.9,33.95,33.9,34,33.9,33.3];
var times = [1515058164939,1515058166412,1515058167465,1515058170460,1515058171930,1515058174913,1515058179473,1515058180975,1515058192425,1515058193430,1515058196477,1515058197958,1515058200425,1515058203450,1515058207930,1515058208949,1515058210440,1515058211935,1515058214950,1515058216955,1515058225970,1515058227416,1515058228932,1515058229450,1515058230463,1515058232491,1515058233432,1515058234976,1515058236968,1515058238941,1515058239955,1515058241475,1515058243449,1515058245460,1515058247957,1515058248948,1515058249931,1515058251450,1515058252465,1515058253956,1515058255955,1515058256973,1515058262499,1515058263964,1515058265983,1515058267980,1515058268938,1515058269959,1515058270947,1515058272474,1515058273412,1515058278474,1515058279467,1515058280420,1515058282969,1515058285975,1515058288457,1515058293466,1515058293927,1515058294949,1515058296436,1515058299930,1515058305439,1515058307472,1515058308469,1515058309945,1515058310972,1515058312443,1515058316939,1515058318977,1515058320466,1515058321702,1515058323444,1515058324942,1515058326045,1515058336485,1515058342978,1515058343943,1515058350461,1515058351470,1515058353980,1515058355953,1515058364017,1515058366478,1515058372969,1515058374462,1515058375972,1515058376990,1515058380472,1515058381952,1515058382945,1515058385459,1515058386990,1515058387988,1515058388960,1515058391443,1515058393931,1515058399944,1515058401427,1515058404970,1515058407437,1515058408507,1515058410978,1515058411991,1515058417974,1515058421963,1515058424967,1515058425952,1515058426966,1515058428453,1515058430949,1515058431944,1515058434975,1515058436953,1515058438964,1515058445934,1515058452461,1515058454933,1515058455984,1515058460438,1515058461941,1515058464475,1515058467974,1515058470419,1515058471418,1515058474942,1515058478970,1515058482448,1515058484467,1515058485928,1515058486924,1515058487956,1515058495949,1515058496928,1515058497952,1515058499475,1515058501981,1515058502973,1515058503990,1515058505965,1515058506952,1515058511501,1515058512568,1515058513940,1515058514935,1515058515939,1515058518437,1515058523439,1515058524942,1515058531982,1515058532949,1515058536929,1515058541470,1515058543979,1515058549440,1515058550975,1515058554453,1515058558988,1515058562445,1515058564983,1515058570448,1515058570979,1515058573978,1515058575955,1515058578927,1515058582439,1515058583987,1515058587473,1515058589480,1515058593985,1515058595431,1515058596491,1515058602440,1515058603927,1515058608948,1515058609972,1515058610971,1515058613457,1515058615966,1515058620473,1515058621432,1515058622973,1515058629940,1515058630980,1515058632986,1515058635987,1515058640471,1515058641472,1515058642991,1515058643956,1515058646491,1515058650977,1515058654561,1515058655491,1515058662937,1515058664474,1515058667026,1515058667972,1515058668988,1515058670481,1515058671457,1515058672967,1515058676943,1515058681464,1515058683439,1515058689479,1515058691452,1515058692460,1515058693494,1515058693976,1515058695019,1515058698503,1515058700460,1515058708971,1515058709985,1515058711478,1515058718479,1515058724465,1515058725475,1515058727939,1515058729447,1515058732949,1515058733986,1515058735966,1515058739465,1515058740948,1515058741989,1515058745488,1515058746953,1515058748974,1515058751475,1515058752431,1515058753938,1515058756966,1515058758485,1515058759487,1515058768971,1515058771978,1515058775444,1515058777967,1515058778939,1515058781462,1515058787443,1515058788479,1515058789486,1515058789934,1515058790980,1515058793467,1515058795988,1515058796968,1515058798977,1515058800452,1515058802943,1515058807973,1515058809930,1515058815990,1515058818481,1515058818957,1515058824496,1515058824954,1515058825982,1515058827499,1515058830505,1515058832002,1515058833963,1515058835949,1515058840447,1515058844000,1515058845471,1515058849964,1515058851485,1515058852936,1515058854513,1515058857998,1515058858979,1515058861484,1515058862496,1515058864944,1515058866486,1515058867487,1515058873455,1515058873968,1515058875497,1515058876472,1515058881490,1515058882977,1515058884485,1515058885445,1515058887978,1515058888965,1515058890495,1515058891473,1515058896966,1515058898451,1515058899999,1515058900956,1515058901984,1515058904464,1515058907005,1515058909451,1515058910483,1515058911504,1515058912977,1515058917462,1515058921981,1515058926476,1515058927473,1515058929535,1515058929995,1515058931011,1515058934474,1515058935469,1515058935962,1515058942499,1515058942951,1515058944459,1515058945976,1515058949002,1515058950488,1515058952133,1515058952955,1515058954000,1515058956978,1515058957956,1515058959482,1515058960490,1515058963000,1515058965448,1515058966486,1515058967507,1515058968968,1515058969952,1515058972455,1515058977980,1515058979080,1515058980967,1515058984434,1515058984982,1515059023452,1515059026005,1515059027010,1515059028493,1515059030507,1515059032043,1515059033020,1515059034457,1515059035511,1515059036986,1515059037977,1515059038961,1515059041962,1515059043453,1515059044466,1515059045983,1515059046940,1515059047946,1515059052466,1515059054954,1515059058517,1515059059473,1515059061992,1515059062999,1515059064492,1515059065451,1515059067477,1515059071469,1515059072483,1515059073474,1515059073990,1515059077439,1515059078515,1515059082505,1515059087001,1515059087491,1515059094510,1515059095493,1515059095991,1515059100491,1515059101503,1515059106490,1515059107481,1515059107939,1515059112482,1515059114945,1515059116959,1515059123468,1515059123997,1515059127485,1515059129475,1515059129995,1515059132454,1515059133437,1515059135952,1515059137502,1515059138510,1515059139505,1515059140502,1515059141964,1515059143946,1515059144983,1515059150946,1515059153017,1515059155507,1515059158464,1515059158980,1515059160452,1515059161442,1515059162455,1515059163477,1515059167465,1515059170999,1515059174496,1515059175965,1515059177007,1515059180463,1515059187993,1515059188997,1515059190474,1515059191475,1515059192980,1515059194003,1515059198028,1515059199013,1515059201475,1515059202515,1515059208958,1515059210003,1515059211442,1515059213967,1515059216470,1515059217504,1515059221981,1515059224482,1515059225985,1515059228520,1515059230984,1515059236006,1515059236949,1515059237994,1515059241500,1515059243973,1515059247469,1515059249008,1515059253483,1515059253967,1515059254967,1515059257494,1515059258521,1515059263988,1515059266443,1515059267499,1515059268445,1515059269982,1515059271476,1515059272461,1515059273516,1515059273979,1515059278484,1515059282006,1515059283014,1515059287456,1515059291014,1515059291973,1515059295507,1515059296476,1515059299015,1515059300048,1515059301017,1515059305989,1515059307464,1515059309968,1515059310947,1515059312008,1515059316006,1515059320991,1515059324502,1515059327961,1515059328958,1515059330491,1515059331481,1515059333477,1515059334507,1515059335958,1515059338491,1515059341452,1515059342506,1515059343503,1515059344025,1515059346013,1515059347468,1515059349451,1515059350946,1515059360476,1515059363963,1515059365958,1515059371135,1515059372026,1515059373001,1515059375536,1515059377991,1515059378969,1515059385023,1515059386469,1515059387011,1515059390970,1515059396525,1515059398512,1515059399973,1515059401988,1515059405476,1515059407952,1515059411526,1515059412018,1515059415478,1515059415972,1515059416946,1515059418502,1515059420519,1515059421460,1515059422458,1515059424000,1515059426542,1515059428977,1515059432024,1515059434487,1515059435485,1515059437029,1515059442532,1515059444463,1515059445458,1515059446516,1515059447973,1515059451500,1515059454487,1515059460488,1515059461518,1515059463008,1515059464967,1515059468990,1515059469968,1515059472498,1515059473523,1515059475022,1515059480018,1515059480962,1515059482004,1515059483020,1515059484501,1515059489456,1515059490517,1515059491978,1515059492510,1515059494008,1515059494487,1515059495958,1515059503994,1515059505531,1515059507482,1515059510451,1515059511994,1515059512994,1515059520528,1515059521516,1515059521969,1515059523469,1515059523963,1515059527951,1515059530474,1515059531477,1515059533514,1515059535466,1515059536460,1515059538011,1515059539959,1515059541480,1515059541981,1515059543506,1515059544981,1515059546035,1515059546975,1515059547962,1515059548971,1515059551544,1515059552509,1515059553045,1515059554485,1515059555506,1515059559499,1515059561005,1515059562514,1515059563475,1515059566002,1515059567493,1515059567972,1515059568979,1515059570506,1515059572504,1515059573480,1515059574998,1515059576005,1515059583502,1515059584458,1515059586979,1515059587996,1515059589515,1515059590467,1515059592448,1515059593056,1515059594018,1515059595532,1515059600982,1515059601522,1515059605473,1515059606529,1515059607489,1515059610457,1515059614499,1515059616525,1515059617984,1515059618986,1515059621004,1515059622470,1515059623486,1515059625526,1515059627024,1515059630008,1515059631495,1515059632008,1515059633534,1515059634472,1515059635510,1515059639476,1515059640490,1515059642985,1515059643981,1515059645033,1515059647458,1515059649002,1515059649968,1515059652496,1515059656973,1515059659501,1515059662988,1515059666031,1515059667510,1515059669494,1515059670501,1515059671494,1515059680466,1515059682958,1515059684483,1515059686523,1515059687501,1515059688504,1515059691515,1515059692476,1515059694501,1515059695955,1515059696995,1515059697484,1515059699011,1515059700498,1515059703480,1515059704986,1515059708045,1515059709500,1515059714014,1515059715504,1515059717985,1515059719527,1515059723509,1515059724520,1515059725452,1515059735019,1515059735454,1515059738481,1515059739496,1515059740485,1515059741498,1515059745501,1515059746989,1515059751546,1515059753956,1515059757504,1515059762508,1515059764501,1515059766017,1515059767043,1515059768506,1515059769480,1515059775512,1515059777010,1515059780479,1515059781984,1515059782494,1515059782979,1515059786481,1515059787499,1515059789955,1515059792508,1515059799488,1515059800978,1515059805499,1515059806986,1515059810507,1515059811471,1515059812992,1515059813990,1515059815005,1515059822503,1515059840510,1515059841517,1515059847006,1515059849005,1515059851489,1515059853979,1515059855015,1515059856532,1515059857492,1515059859488,1515059861022,1515059862489,1515059865977,1515059868475,1515059869490,1515059870482,1515059871501,1515059875470,1515059882543,1515059882991,1515059886524,1515059889559,1515059895542,1515059896074,1515059898538,1515059900003,1515059901540,1515059902998,1515059904485,1515059906061,1515059906556,1515059909958,1515059911474,1515059913534,1515059914490,1515059918986,1515059919978,1515059928533,1515059928967,1515059930508,1515059934026,1515059936476,1515059937489,1515059940508,1515059942000,1515059943013,1515059943971,1515059949458,1515059950502,1515059955481,1515059957013,1515059958482,1515059959497,1515059964032,1515059965960,1515059968493,1515059970996,1515059973523,1515059974958,1515059979484,1515059980504,1515059982483,1515059986011,1515059987972,1515059993525,1515059994473,1515059996517,1515059998506,1515059999990,1515060089485];

      
      var i;
      var priceDiff;
      var timeDiff;
      var renkoTileSize = 0.1;
      var clubTime = 5 * 60 * 1000; //in milliseconds
      var renkoPriceDiff = 0;
      var renkoTimeDiff = 0;
      var tilePoint;
      var renko = [];
      var renkoPriceChart = [];
      var renkoTimeChart = [];
      var renkoSum = 0;
      var lprice = null;
      var ltime = null;
      var ltrend;
      var trend = null;
      var checking = null;
      
      function rcom(price, time) {
        if(!lprice) {
          lprice = price;
          ltime = time;
          tilePoint = lprice;
          renkoSum = 0;
          return;
        }

        priceDiff = price - lprice;
        timeDiff = time - ltime;
        renkoPriceDiff = (price - tilePoint).toFixed(2);
        renkoTimeDiff = renkoTimeDiff + timeDiff;

        if(renkoPriceDiff >= renkoTileSize) {
          renko.push(1);
          renkoPriceChart.push(price);
          renkoTimeChart.push(time);
          tilePoint = tilePoint + renkoTileSize;
          renkoPriceDiff = 0;
          if(trend === 0) {
            if(checking === 1) {
              trend = 1;
              checking = null;
              console.log("buy call ", price);
            }
            else {
              checking = 1;
            }
          }
          else {
            trend = 1;
            if(checking === 0) {
              checking = null;
            }
            else {
              console.log("buy call ", price);
            }
          }
        }
        else if(renkoPriceDiff <= (-1 * renkoTileSize)) {
          renko.push(0);
          renkoPriceChart.push(price);
          renkoTimeChart.push(time);
          tilePoint = tilePoint - renkoTileSize;
          renkoPriceDiff = 0;
          if(trend === 1) {
            if(checking === 0) {
              trend = 0;
              checking = null;
              console.log("sell call ", price);
            }
            else {
              checking = 0;
            }
          }
          else {
            trend = 0;
            if(checking === 1) {
              checking = null;
            }
            else {
              console.log("sell call ", price);
            }
          }
        }

        if(renkoTimeDiff >= clubTime) {
          //renko.push("-");
          //console.log(price);
          renkoTimeDiff = 0;
        }

        lprice = price;
        ltime = time;
      }

      for(var i=0;i<prices.length;i++){
        rcom(prices[i], times[i]);
      }

      console.log(renko.toString());

      // var sum = 0;
      // for(i=0;i<renko.length;i++) {
      //   if(isNaN(renko[i])) {
      //     console.log(sum);
      //     sum = 0;
      //   }
      //   else {
      //     sum = sum + renko[i];
      //   }
      // }


    </script>
  </body>
</html>